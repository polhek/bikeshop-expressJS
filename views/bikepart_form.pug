extends layout

block content
    h1= title

    form(method="POST" action='')
        div
            div
                label(for='name') Name:
                input#name(type='text' placeholder="Name of the item" name="name" required="true" value=(undefined===bikepart ? '' : bikepart.name))
            div
                label(for='description') Description:
                textarea#description(type='text' placeholder="Description of the item" name="description" required="true" ) #{undefined===bikepart ?'':bikepart.description}
            div
                label(for='price') Price:
                input#price(type='number' min="1" step="any" placeholder="Price of the item" name="price" required="true"  value=(undefined===bikepart ? '' : bikepart.price))
            div
                label(for='category') Category:
                select#category(type='select', placeholder="Select category" name="category" required="true")
                    for category in categories
                        if bikepart
                            option(value=category._id selected=(category._id.toString() === bikepart.category._id.toString() ? 'selected' : false)) #{category.name}
                        else
                            option(value=category._id) #{category.name}
            div
                label(for='stock') Stock:
                input#stock(type="number" min="0" placeholder="Number of items in stock" name="stock" required="true" value=(undefined===bikepart ? '' : bikepart.stock))
            div
                label(for='manufacturer') Manufacturer:
                select#manufacturer(type="select", placeholder="Select manufacturer", name="manufacturer" required="true")
                    for manufacturer in manufacturers
                        if bikepart
                            option(value=manufacturer._id selected=(manufacturer._id.toString() === bikepart.manufacturer._id.toString() ? 'selected' : false)) #{manufacturer.name}
                        else
                            option(value=manufacturer._id) #{manufacturer.name}
        button(type='submit') Submit

    if errors
        ul
        for error in errors
            li!= error.msg